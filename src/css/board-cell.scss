
td.board-cell {
	width: $cell-size;
	height: $cell-size;

	padding: 0;

	background-color: orange;

	// *************************** GRID ********************************

	table.cell {
		$border: 2px solid black;

		border-collapse: collapse;
		td {
			width: $cell-size / 2;
			height: $cell-size / 2;
			box-sizing: border-box;
		}

		tr:nth-child(1) {
			td:nth-child(1) { // Top Left
				border-right: $border;
				border-bottom: $border;
			}
			td:nth-child(2) { // Top Right
				border-bottom: $border;
			}
		}
		tr:nth-child(2) {
			td:nth-child(1) { // Bottom Left
				border-right: $border;
			}
		}

	}

	// Permet de ne pas afficher les lignes et colonnes extérieures:
	@mixin skip-border($class, $x, $y, $side) {
		&.#{$class}  table.cell tr:nth-child(#{$y})  td:nth-child(#{$x}) {
			border-#{$side}-color: transparent;
		}
	}
	@include skip-border(top, 1, 1, right);
	@include skip-border(bottom, 1, 2, right);
	@include skip-border(right, 2, 1, bottom);
	@include skip-border(left, 1, 1, bottom);


	// ******************** LAYERS (PIECES, MARKS) *********************
	// Les layers d'une case permettent d'afficher des éléments au-dessus du plateau: pierres,
	// marqueurs...
	// Ils contiennent tous un élément `.visual` centré dans la case, contenant le visuel à
	// afficher.

	.layer {
		position: absolute;
		width: $cell-size;
		height: $cell-size;

		display: flex;
		justify-content: center;
		align-items: center;

		opacity: 0;
	}

	// Définit la taille des visuel (pièces, marqueurs...).
	// Paramètres:
	//   $ratio  Taille de l'élément visuel (entre 0 et 1) par rapport à la taille des cases
	@mixin visual-size($ratio) {
		width: $cell-size * $ratio;
		height: $cell-size * $ratio;
	}


	// **************************** PIECE *****************************
	// Style pour le layer affichant une pierre blanche ou noire.

	.layer.piece {
		.visual {
			@include visual-size(0.7);
			border-radius: 1000px;
		}
	}

	&.black, &.white {
		.layer.piece {
			opacity: 1;
		}
	}

	&.black .layer.piece .visual {
		background-color: black;
	}

	&.white .layer.piece .visual {
		background-color: white;
	}

	&.pending .layer.piece {
		opacity: 0.5;
	}

	// **************************** MARK *****************************
	// Style pour les layers de marqueurs (affichage des libertés et des chaines).

	.layer.liberty-mark, .layer.chain-mark {
		transition: opacity 0.5s;

		&.visible {
			opacity: 1;
		}
	}

	.layer.liberty-mark {
		.visual {
			@include visual-size(0.15);

			transform: rotate(45deg);

			$color: #6cd466;
			background-color: $color;
			border: 1px solid darken($color, 20%);
		}
	}

	.layer.chain-mark {
		.visual {
			@include visual-size(0.22);

			border-radius: 1000px;
			background-color: #7373f9;
		}
	}

	// **************************** MISC *****************************

	&.forbidden {
		cursor: not-allowed;
		&.black, &.white {
			cursor: default;
		}
	}

} // } td (case de plateau)
